(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3686:()=>{},2383:()=>{},2996:(e,s,r)=>{Promise.resolve().then(r.bind(r,8849))},8849:(e,s,r)=>{"use strict";r.d(s,{default:()=>n});var t=r(5155),l=r(2115),a=r(7660);function n(){let[e,s]=(0,l.useState)(""),[r,n]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1),i=async()=>{try{c(!0);let e=["https://docs.google.com/spreadsheets/d/1YC3_yHxOeeIh6CahktPTRIfVO1klIX_jEvf7xJt2Gb0/export?format=xlsx","https://docs.google.com/spreadsheets/d/1YC3_yHxOeeIh6CahktPTRIfVO1klIX_jEvf7xJt2Gb0/export?format=xlsx&gid=1706807251"],s={};for(let r=0;r<e.length;r++){let t=await fetch(e[r]),l=await t.blob(),n=new FileReader,o=await new Promise((e,s)=>{n.onload=r=>{try{if(!r.target)throw Error("Erro ao ler o arquivo.");let s=r.target.result,t=a.LF(new Uint8Array(s)),l=t.SheetNames[0],n=t.Sheets[l],o=a.Wp.sheet_to_json(n);e(o)}catch(e){s(e)}},n.readAsArrayBuffer(l)});s[r]=o}return c(!1),s}catch(e){console.error("Erro ao carregar as planilhas:",e),c(!1)}},d=async()=>{n(null),c(!0);try{let s=await i(),r=(s[0]||[]).find(s=>s.Placa===e);if(r){n({Tipo:"Funcion\xe1rio",Veiculo:r["Fabricante e Modelo"],Placa:r.Placa,Nome:r.Nome,Setor:r.Setor}),c(!1);return}let t=(s[1]||[]).find(s=>s.Placa===e);if(t){n({Tipo:"Prestador",Empresa:t.Empresa,Veiculo:t["Fabricante e Modelo"],Placa:t.Placa,Motorista:t.Motorista,sResponsavel:t["Setor respons\xe1vel"],fResponsavel:t["Funcion\xe1rio respons\xe1vel"],Status:t["Situa\xe7\xe3o"],Obs:t["Ocorr\xeancias"]}),c(!1);return}n(null),c(!1)}catch(e){console.error("Erro na busca:",e),c(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col m-0 p-0 items-center text-cinza bg-branco",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("form",{className:"w-full m-0 py-4 px-8 gap-1 flex flex-col items-center justify-center bg-azul text-branco",children:[(0,t.jsx)("h1",{className:"text-3xl my-2 ",children:"Consulta de ve\xedculos"}),(0,t.jsxs)("div",{className:"form",children:[(0,t.jsx)("label",{htmlFor:"",children:"Digite a placa "}),(0,t.jsx)("input",{type:"text",pattern:"^[a-zA-Z]{3}.*",placeholder:"Ex: XXX0000",maxLength:7,required:!0,value:e,onChange:e=>s(e.target.value),className:"border-none rounded-[20px] m-1 p-[.7rem] text-[.75rem] bg-white w-[6rem] text-center text-cinza"}),(0,t.jsx)("button",{onClick:d,disabled:o,className:"border-none rounded-[20px] m-1 p-[.7rem] text-sm bg-cinza text-white font-semibold",children:o?"Buscando...":"Consultar"})]})]})}),o&&(0,t.jsx)("p",{className:"mt-4 text-blue-500",children:"Carregando..."}),r?"Funcion\xe1rio"===r.Tipo?(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"m-4 text-center font-bold text-2xl",children:"Funcion\xe1rio"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Veiculo: "}),r.Veiculo]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Placa: "}),r.Placa]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Nome: "}),r.Nome]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Setor: "}),r.Setor]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"m-4 text-center font-bold text-2xl",children:"Prestador"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Empresa: "}),r.Empresa]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Veiculo: "}),r.Veiculo]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Placa: "}),r.Placa]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Nome do motorista: "}),r.Motorista]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Setor respons\xe1vel: "}),r.sResponsavel]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Funcion\xe1rio respons\xe1vel: "}),r.fResponsavel]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"Inativo"===r.Status?(0,t.jsx)("p",{className:"text-red-500 text-center",children:(0,t.jsx)("strong",{children:"Inativo"})}):(0,t.jsx)("p",{className:"text-green-500 text-center",children:(0,t.jsx)("strong",{children:"Ativo"})}),r.Obs?(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Ocorr\xeancias: "}),r.Obs]}):null]}):!o&&""!==e&&null===r&&(0,t.jsx)("p",{className:"mt-4 text-red-500",children:"Placa n\xe3o encontrada"})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[524,441,517,358],()=>s(2996)),_N_E=e.O()}]);